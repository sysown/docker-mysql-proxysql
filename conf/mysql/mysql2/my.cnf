[mysqld]
ssl_ca=ca.pem
ssl_cert=server-cert.pem
ssl_key=server-key.pem

disabled_storage_engines="MyISAM,BLACKHOLE,FEDERATED,ARCHIVE,MEMORY"

plugin-load=group_replication.so
loose-group_replication_local_address="mysql2:24901"
loose-group_replication_group_seeds="mysql1:24901,mysql2:24901,mysql3:24901"
loose-group_replication_group_name="b30a2c04-6e46-11e8-b6e9-fbf465dfdf2c"
loose-group_replication_recovery_get_public_key=ON
loose-group_replication_start_on_boot=off
loose-group_replication_bootstrap_group=off
transaction_write_set_extraction=XXHASH64

default_authentication_plugin=caching_sha2_password

binlog_format=ROW
binlog_checksum=NONE
binlog-row-image=MINIMAL
binlog-rows-query-log-events=ON

log-bin-trust-function-creators=TRUE
expire-logs-days=90
max-binlog-size=1G
relay-log-recovery=ON

slave-parallel-type=LOGICAL_CLOCK
slave-preserve-commit-order=ON
slave-parallel-workers=8
slave-rows-search-algorithms='INDEX_SCAN,HASH_SCAN'
slave-type-conversions=ALL_NON_LOSSY

sync-master-info=1000
sync-relay-log=1000

innodb_log_file_size=512M
innodb_buffer_pool_size=256M
innodb_flush_log_at_trx_commit=2
sync_binlog=0
server-id=222
gtid_mode=ON
enforce_gtid_consistency=true
log-bin
log-slave-updates
relay_log_info_repository=TABLE
relay_log_recovery=ON
master_info_repository=TABLE
read_only=1
report_host=mysql2
